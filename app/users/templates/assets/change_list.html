{% extends 'admin/change_form.html' %} 

{% block extrahead %}
{{ block.super }}
<script>
  // JavaScript to show and hide the modal
  const openModalBtn = document.getElementById("openModalBtn");
  const closeModalBtn = document.getElementById("closeModalBtn");
  const modal = document.getElementById("myModal");

 function openModal(){
  modal.style.display = "block";
 }

  closeModalBtn.addEventListener("click", () => {
      modal.style.display = "none";
  });

  window.addEventListener("click", (event) => {
      if (event.target === modal) {
          modal.style.display = "none";
      }
  });
</script>

{% endblock %}

{% block extrastyle %}

<style>
  .object-tools{
    display: flex !important;
    justify-content: flex-end;
  }
  .modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 9999; /* Adjust the z-index as needed */
}
.modal-content {
    background-color: #fff;
    width: 50%;
    margin: 20% auto;
    padding: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    text-align: center;
    z-index: 10;
}
.modal-button {
    padding: 10px 20px;
    background-color: #007bff;
    color: #fff;
    border: none;
    cursor: pointer;
}

.close {
    float: right;
    font-weight: bold;
    cursor: pointer;
}
{{ block.super }}
</style>

<div id="myModal" class="modal">
    <div class="modal-content">
        <span class="close" id="closeModalBtn">&times;</span>
        <h2>Confirmation</h2>
        <p>Are you sure you want to charge the client?</p>
        <form id="send-sms-form" action="/latest" method="get">
            <input type="hidden" name="client_id" value="{{ original.pk }}">
            <button type="submit" class="modal-button">Confirm</button>
        </form>
    </div>
</div>

{{ block.super }} {% endblock %}
{% block object-tools-items %}
<div>
  <input type="submit" id="openModalBtn" onclick="openModal()" value="Charge client"></input>
</div>
{{ block.super }} {% endblock %}