# Generated by Django 2.2.15 on 2020-08-28 13:41

import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models

import core.validators
import modules.enums


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ("billing", "0001_initial"),
        ("core", "0001_initial"),
        ("locations", "0001_initial"),
    ]

    operations = [
        migrations.CreateModel(
            name="Customer",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "created",
                    models.DateTimeField(auto_now_add=True, verbose_name="creation date and time"),
                ),
                (
                    "changed",
                    models.DateTimeField(auto_now=True, verbose_name="last changed date and time"),
                ),
                (
                    "email",
                    models.EmailField(max_length=254, null=True, unique=True, verbose_name="email"),
                ),
                (
                    "phone",
                    models.CharField(
                        max_length=20,
                        null=True,
                        unique=True,
                        validators=[core.validators.validate_phone],
                        verbose_name="phone",
                    ),
                ),
                ("zip_code", models.CharField(blank=True, max_length=20, verbose_name="zip code")),
                (
                    "kind",
                    models.CharField(
                        choices=[
                            ("interested", "Who interested in our services in future"),
                            (
                                "possible",
                                "Who uses only SMS orders and maybe will use web-application in future",
                            ),
                        ],
                        max_length=20,
                        verbose_name="kind",
                    ),
                ),
            ],
            options={"verbose_name": "customer", "verbose_name_plural": "customers",},
        ),
        migrations.CreateModel(
            name="Employee",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "created",
                    models.DateTimeField(auto_now_add=True, verbose_name="creation date and time"),
                ),
                (
                    "changed",
                    models.DateTimeField(auto_now=True, verbose_name="last changed date and time"),
                ),
                (
                    "position",
                    models.CharField(
                        choices=[
                            ("driver", "Driver"),
                            ("laundress", "Laundress"),
                            ("manager", "Manager"),
                        ],
                        default="laundress",
                        max_length=20,
                        verbose_name="position of employee",
                    ),
                ),
                (
                    "SSN",
                    models.CharField(
                        max_length=15, null=True, verbose_name="social security number"
                    ),
                ),
                ("birthday", models.DateField(null=True, verbose_name="date of birthday")),
                (
                    "came_to_work",
                    models.DateTimeField(
                        default=django.utils.timezone.localdate,
                        null=True,
                        verbose_name="came out to work from",
                    ),
                ),
                (
                    "user",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="employee",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={"verbose_name": "employee", "verbose_name_plural": "employees",},
        ),
        migrations.CreateModel(
            name="Client",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "created",
                    models.DateTimeField(auto_now_add=True, verbose_name="creation date and time"),
                ),
                (
                    "changed",
                    models.DateTimeField(auto_now=True, verbose_name="last changed date and time"),
                ),
                (
                    "stripe_id",
                    models.CharField(
                        blank=True, max_length=100, null=True, unique=True, verbose_name="Stripe ID"
                    ),
                ),
                (
                    "detergents",
                    models.CharField(
                        choices=[
                            (modules.enums.Detergents("Scented"), "Scented"),
                            (modules.enums.Detergents("Hypo-Allergenic"), "Hypo-Allergenic"),
                        ],
                        max_length=50,
                        null=True,
                    ),
                ),
                (
                    "starch",
                    models.CharField(
                        choices=[
                            (modules.enums.Starch("NONE"), "NONE"),
                            (modules.enums.Starch("LIGHT"), "LIGHT"),
                            (modules.enums.Starch("MEDIUM"), "MEDIUM"),
                            (modules.enums.Starch("HEAVY"), "HEAVY"),
                        ],
                        max_length=50,
                        null=True,
                    ),
                ),
                (
                    "no_crease",
                    models.CharField(
                        choices=[
                            (modules.enums.Crease("ALL_PANTS"), "ALL_PANTS"),
                            (modules.enums.Crease("JEANS_ONLY"), "JEANS_ONLY"),
                        ],
                        max_length=50,
                        null=True,
                    ),
                ),
                ("fabric_softener", models.BooleanField(default=False)),
                ("fix_tears", models.BooleanField(default=False)),
                (
                    "main_address",
                    models.OneToOneField(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="+",
                        to="locations.Address",
                        verbose_name="main address",
                    ),
                ),
                (
                    "main_card",
                    models.OneToOneField(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="+",
                        to="billing.Card",
                        verbose_name="main card",
                    ),
                ),
                (
                    "main_phone",
                    models.OneToOneField(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="+",
                        to="core.Phone",
                        verbose_name="main phone number",
                    ),
                ),
                (
                    "package",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="client_list",
                        to="billing.Package",
                        verbose_name="package of service",
                    ),
                ),
                (
                    "user",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="client",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={"verbose_name": "client", "verbose_name_plural": "clients",},
        ),
    ]
